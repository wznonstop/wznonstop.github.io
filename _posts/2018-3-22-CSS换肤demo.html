<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="description" content="css变量, input color, input range, 网站换肤">
  <title>自由切换网站皮肤</title>
  <link rel="stylesheet" href="http://wznonstop.github.io/stylesheets/css-skin-demo.css">
</head>
<br>
<a class="shaking-title" href="http://wznonstop.github.io/2018/03/21/%E5%9F%BA%E4%BA%8Ecss%E5%8F%98%E9%87%8F%E5%88%A9%E7%94%A8input%E8%87%AA%E7%94%B1%E5%AE%9E%E7%8E%B0%E7%BD%91%E7%AB%99%E6%8D%A2%E8%82%A4.html">点此查看对应文章</a>
<input id="picker" type="color"/><br/>
<input id="range-picker" type="range" class="rgb"/><br/>
<input id="alpha-picker" type="range" class="alpha"/><br/>
<script>
  const root = document.documentElement
  const rangePicker = document.getElementById("range-picker");
  const aPicker = document.getElementById("alpha-picker");
  const Picker = document.getElementById("picker");
  console.log(Picker);
  let alpha = 1;
  let color = 'pink';
  rangePicker.addEventListener("change", function(e) {
    const rangeValue = parseInt(e.target.value, 10);
    let colorStep = 0;
    if (0 <= rangeValue && rangeValue < 17) {
      colorStep = (rangeValue / 17) * 255;
      color = `rgba(255, 0, ${colorStep}, `;
      console.log(color);
    } else if (17 <= rangeValue && rangeValue < 33) {
      colorStep = 255 - ((rangeValue - 17) / 17) * 255;
      color = `rgba(${colorStep}, 0, 255, `;
      console.log(color);
    } else if (33 <= rangeValue && rangeValue < 50) {
      colorStep = ((rangeValue - 33) / 17) * 255;
      color = `rgba(0, ${colorStep}, 255, `;
      console.log(color);
    } else if (50 <= rangeValue && rangeValue < 67) {
      colorStep = 255 - ((rangeValue - 50) / 17) * 255;
      color = `rgba(0, 255, ${colorStep}, `;
      console.log(color);
    } else if (67 <= rangeValue && rangeValue <83) {
      colorStep = ((rangeValue - 67) / 17) * 255;
      color = `rgba(${colorStep}, 255, 0, `;
      console.log(color);
    } else if (83 <= rangeValue && rangeValue <= 100) {
      colorStep = 255 - ((rangeValue - 83) / 17) * 255;
      color = `rgba(255, ${colorStep}, 0, `;
      console.log(color);
    }
    let colorValue = `${color}${alpha})`;
    root.style.setProperty('--bg-color', colorValue)
  })
  aPicker.addEventListener("change", function(e) {
    alpha = parseInt(e.target.value, 10) / 100;
    let colorValue = `${color}${alpha})`;
    root.style.setProperty('--bg-color', colorValue)
  })
  Picker.addEventListener("change", function(e) {
    root.style.setProperty('--bg-color', e.target.value)
  })
</script>
</body>
</html>